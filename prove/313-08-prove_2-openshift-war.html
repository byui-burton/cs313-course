<!DOCTYPE html>
<html>

<head>
    <title>Web Engineering II - Ponder and Prove</title>
    <link rel="stylesheet" type="text/css" href="../course/style.css" />
</head>

<body>
    <div id="frame"><img src="../course/cs313.png" border="0" alt="Web Engineering II CS 313" title="Web Engineering II CS 313" width="100%" />
        <div id="content">


        <h1>Deploying a WAR File</h1>
        
        <p>1. After creating your application gear at OpenShift, you will need to set up a public key / private key pair to push code directly to it using Git. On the application page, on the right side under source code, you will see a link to upload your public key file.</p>

        <p>Here is a help page on generating SSH keys from GitHub: https://help.github.com/articles/generating-ssh-keys (You will want to follow these steps, except at the end, instead of uploading your key to GitHub, you will paste it into the form at OpenShift)</p>

        <p>Alternatively, here is a help page on using putty to setup the ssh, and create public/private keys from OpenShift: https://www.openshift.com/developers/install-and-setup-putty-ssh-client-for-windows</p>

        <p>2. You can now get the data from OpenShift by doing a git clone such as:</p>
        
        <p>git clone ssh://xxxx@php-sburton.rhcloud.com/~/git/php.git/</p>
        <p>(replacing the appropriate parts with your information). This will pull the data down to your own machine. I would recommend doing this to a different directory than your NetBeans project. You can then make your changes, do a "git add", and then simply type:</p>
        <p>git push</p>
        <p>to deploy your code to your OpenShift server.</p>
        <p>When you clone your repository from the OpenShift repository, it will create a "webapps" subdirectory. This is where you will put your WAR file.</p>
        <p>3. To build your WAR file in NetBeans, simply click the Clean and Build button. By default this will create a .war file in the "target" directory under your application. Find this .war file and copy it and paste it directly in the webapps subdirectory that you got when you cloned from OpenShift. It will simplifiy things later if you rename it to not include the version number and "snapshot" or else that will be part of your URL.</p>
        <p>Please note that because there is a default pom.xml (Maven configuration file) in the root of your repository, OpenShift will use it to build and deploy the root application. The first time you push, this will cause a series of dependencies to be downloaded to get Maven up to date. If you don't want this build to happen every time you do a push, you can simply remove the pom.xml file. ("git rm pom.xml").</p>
        <p>Once your war file has been deployed, you can view your web application at a URL like:</p>
        <p>http://java-yourUserName.rhcloud.com/helloWorld/HelloServlet</p>
        <p>*** Notice that whatever you choose for the name of your WAR file, will be included in the path of your URL. Also notice, that we don't use ".java" at the end of our servlet.</p>


        </div>
    </div>


</body>

</html>